---

#-- Required
jenkins_dependencies: True

jenkins_role: 'server' # 'server' or 'slave' or define your own..

jenkins_system_user: 'jenkins'
jenkins_system_group: 'jenkins'
jenkins_system_uid_gid: '1998'

jenkins_service_user: 'default_admin'
jenkins_service_password: 'password'

#-- Try this hard to connect to Jenkins after startup
jenkins_connection_delay: 5
jenkins_connection_retries: 10

jenkins_service_name: 'ci'

jenkins_hostname: '{{ jenkins_service_name }}.{{ ansible_domain }}'  # This URL should be directly accessible from your browser
jenkins_port: '8080'           # Not implemented yet
jenkins_scheme: 'http'           # Not implemented yet

jenkins_url: '{{ jenkins_scheme }}://{{ jenkins_hostname }}:{{ jenkins_port }}'

#-- Jenkins Service Options
jenkins_max_memory: '1024m'    # http://stackoverflow.com/questions/14763079/what-are-the-xms-and-xmx-parameters-when-starting-jvms

# Standard Jenkins Plugins
jenkins_plugins:
  - git
  - ssh
  - timestamper
  - jobConfigHistory
  - audit-trail
  - swarm
jenkins_group_plugins: []
jenkins_host_plugins: []

# -- Totally optional --
jenkins_hipchat_token: ""

jenkins_groovy_scripts_run_once:
  - configure_global_security_and_add_default_user
jenkins_groovy_scripts_run_always: []

# This will run test and update actions in jenkins-jobs on the instance
# defined in jenkins_url.
jenkins_job_builder_repos:
  - name: 'example'
    repo: 'https://github.com/tobijb/jenkins-job-builder-example.git'
    jenkins_url: '{{ jenkins_url }}'
    jobs_dir: 'jobs'
    filters:
      - 'development*'

# -- Jenkins task variables.. Shouldn't need to change any of these --
jenkins_repo_url: 'deb http://pkg.jenkins-ci.org/debian binary/'
jenkins_repo_key_url: 'https://jenkins-ci.org/debian/jenkins-ci.org.key'
jenkins_ext_root: '/srv/jenkins'
jenkins_ext_cli_root: '{{ jenkins_ext_root }}/jenkins-cli'
jenkins_ext_groovy_root: '{{ jenkins_ext_root }}/jenkins-groovy'

jenkins_ext_job_builder_root: '{{ jenkins_ext_root }}/jenkins-job-builder'
jenkins_ext_job_builder_repos_dir: '{{ jenkins_ext_job_builder_root }}/repos'
jenkins_ext_job_builder_config: '{{ jenkins_ext_job_builder_root }}/config.ini'
jenkins_job_builder: 'jenkins-jobs --conf {{ jenkins_ext_job_builder_config }}'
jenkins_job_builder_default_repo_dir: 'jobs'
jenkins_job_builder_config_allow_duplicates: True

# -- Jenkins Swarm related
jenkins_ext_jenkins_swarm_root: '{{ jenkins_ext_root }}/jenkins-swarm-client'
jenkins_swarm_client_url: 'http://maven.jenkins-ci.org/content/repositories/releases/org/jenkins-ci/plugins/swarm-client/1.24/swarm-client-1.24-jar-with-dependencies.jar'
jenkins_swarm_labels_space_separated: 'swarm'
jenkins_swarm_slave_executors: 1

# -- Nginx Settings --
# Domain which will be used for nginx server
jenkins_nginx_auth_realm: 'Jenkins access is restricted'
# Name of webserver access policy to enable (see 'debops.nginx' role)
jenkins_nginx_access_policy: ""
# nginx client_max_body_size value
jenkins_nginx_client_max_body_size: '5m'
# nginx - gitlab proxy timeout in seconds
jenkins_nginx_proxy_timeout: '300'
